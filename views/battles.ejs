<% include partials/header %>

<header id="header">
    <h1> -- Welcome, Hero! -- </h1>
</header>

<div class="flex-container">
    <% for(let i = 0; i < result.length; i++){
        if(i == 0 || result[i].name != result[i-1].name){ %> <!-- loop through and display skills-->
        <div class="skill">
            <div class="skill-progress">
                <div class="progressbar">
                    <span class="progress" style="width:<%= result[i].curr_xp %>% 
                        <% if(result[i].curr_xp == 100){ %>
                            ;border-radius:5px"
                        <% } else{ %>
                            "
                        <% } %> <!-- display progress -->
                    </span>
                </div>
                <span class="label"><%= result[i].name %></span>
                <span class="lvl-progress"><%= result[i].curr_lvl %>/<%= result[i].max_lvl %></span>
            </div>
            <div class="battles">
                <% for(let j = 0; j < result.length; j++){
                    if(result[j].name == result[i].name){ %>
                        <div class="battle">
                            <button type="button">+</button>
                            <span class="battle-name"><%= result[j].description %></span>
                            <span class="xp"><%= result[j].xp %></span>
                        </div>
                    <% };
                }; %>
            </div>
        </div>
    <% };
    }; %>
</div>

<% include partials/footer %>